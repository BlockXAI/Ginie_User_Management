# User Platform (Phase 0) â€” Environment Template
# Copy to .env.local (never commit real secrets)

# Core app
APP_URL=http://localhost:3000
SESSION_SECRET=change-me-to-a-long-random-string-at-least-32-bytes

# Databases
DATABASE_URL=postgres://USER:PASSWORD@HOST:5432/DBNAME
REDIS_URL=redis://default:PASSWORD@HOST:6379

# OTP Provider (otpleaa or equivalent)
OTP_PROVIDER_URL=https://otpleaa.example.com
OTP_PROVIDER_API_KEY=your-otpleaa-api-key

# Email delivery rail (Brevo, SendGrid, SES, etc.)
BREVO_API_KEY=your-brevo-api-key
EMAIL_FROM_NAME=Camp Security
EMAIL_FROM_ADDRESS=login@notify.yourapp.com
EMAIL_REPLY_TO=support@yourapp.com
# Optional transactional template for OTP (recommended)
BREVO_TEMPLATE_ID_OTP=0

# Optional: rate limit tuning (defaults used if unset)
RL_OTP_SEND_PER_15M=5
RL_OTP_SEND_IP_PER_15M=20
RL_OTP_VERIFY_PER_15M=10

# Optional: CSRF secret if using explicit token derivation
# CSRF_SECRET=another-long-random-string

# CAPTCHA (Cloudflare Turnstile)
# Server-side secret (required to enable CAPTCHA on /u/auth/send-otp)
TURNSTILE_SECRET_KEY=
# Frontend site key (used by client widget; not read by user-api)
# TURNSTILE_SITE_KEY=

# Upstream EVI API base (used by /u/proxy/ai/pipeline)
EVI_BASE_URL=https://evi-v4-production.up.railway.app

# Wrapper route rate limits
RL_PIPELINE_CREATE_PER_15M=10
RL_PIPELINE_CREATE_IP_PER_15M=50

# Sentry (optional)
SENTRY_DSN=
SENTRY_ENV=development
SENTRY_SAMPLE_RATE=0

# Trust proxy (set to 1/true when behind a proxy/CDN)
TRUST_PROXY=0
